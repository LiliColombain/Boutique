(self.modernJsonp=self.modernJsonp||[]).push([["29752"],{628710:function(e,t,o){o.d(t,{Z:()=>r});function r(e){return{name:e.full_name||"",src:e.image_medium_url||e.image_small_url||"",href:`/${e.username}/`}}},606480:function(e,t,o){o.d(t,{F:()=>m,O:()=>c});var r=o(302148);let s=e=>e.bt("{{ first }}", "{{ first }}", "getTranslatedList.oneItem", undefined, true),a=e=>e.bt("{{ first }} et {{ second }}", "{{ first }} and {{ second }}", "getTranslatedList.twoItems", undefined, true),l=e=>e.bt("{{ first }}, {{ second }} et {{ third }}", "{{ first }}, {{ second }} and {{ third }}", "getTranslatedList.threeItems", undefined, true),i=e=>e.bt("{{ first }}, {{ second }}, {{ third }} et {{ fourth }}", "{{ first }}, {{ second }}, {{ third }} and {{ fourth }}", "getTranslatedList.fourItems", undefined, true),n=e=>e.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }} et {{ fifth }}", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }} and {{ fifth }}", "getTranslatedList.fiveItems", undefined, true),d=e=>e.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} et {{ sixth }}", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ sixth }}", "getTranslatedList.sixItems", undefined, true),c=(e,t,o=6)=>{let c={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],seventh:e[6],remaining:e.length-(o-1)};if(6===o)switch(e.length){case 0:return[];case 1:return(0,r.nk)(s(t),c);case 2:return(0,r.nk)(a(t),c);case 3:return(0,r.nk)(l(t),c);case 4:return(0,r.nk)(i(t),c);case 5:return(0,r.nk)(n(t),c);case 6:return(0,r.nk)(d(t),c);default:return(0,r.nk)(t.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} et {{ remaining }} autres", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ remaining }} others", "getTranslatedList.moreThan6Items", undefined, true),c)}switch(e.length){case 0:return[];case 1:return(0,r.nk)(s(t),c);case 2:return(0,r.nk)(a(t),c);case 3:return(0,r.nk)(l(t),c);case 4:return(0,r.nk)(i(t),c);case 5:return(0,r.nk)(n(t),c);case 6:return(0,r.nk)(d(t),c);case 7:return(0,r.nk)(t.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} et {{ seventh }}", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ seventh }}", "getTranslatedList.sevenItems", undefined, true),c);default:return(0,r.nk)(t.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} et {{ remaining }} autres", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ remaining }} others", "getTranslatedList.moreThan7Items", undefined, true),c)}},h=e=>e.bt("{{ first }}", "{{ first }}", "getTranslatedList.onePerson", undefined, true),_=e=>e.bt("{{ first }} et {{ second }}", "{{ first }} and {{ second }}", "getTranslatedList.twoPeople", undefined, true),u=e=>e.bt("{{ first }}, {{ second }} et {{ third }}", "{{ first }}, {{ second }} and {{ third }}", "getTranslatedList.threePeople", undefined, true),p=e=>e.bt("{{ first }}, {{ second }}, {{ third }} et {{ fourth }}", "{{ first }}, {{ second }}, {{ third }} and {{ fourth }}", "getTranslatedList.fourPeople", undefined, true),f=e=>e.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }} et {{ fifth }}", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }} and {{ fifth }}", "getTranslatedList.fivePeople", undefined, true),b=e=>e.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} et {{ sixth }}", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ sixth }}", "getTranslatedList.sixPeople", undefined, true),m=(e,t,o=6)=>{let s={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],seventh:e[6],remaining:e.length-(o-1)};if(6===o)switch(e.length){case 0:return[];case 1:return(0,r.nk)(h(t),s);case 2:return(0,r.nk)(_(t),s);case 3:return(0,r.nk)(u(t),s);case 4:return(0,r.nk)(p(t),s);case 5:return(0,r.nk)(f(t),s);case 6:return(0,r.nk)(b(t),s);default:return(0,r.nk)(t.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} et {{ remaining }} autres", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ remaining }} others", "getTranslatedList.moreThan6People", undefined, true),s)}switch(e.length){case 0:return[];case 1:return(0,r.nk)(h(t),s);case 2:return(0,r.nk)(_(t),s);case 3:return(0,r.nk)(u(t),s);case 4:return(0,r.nk)(p(t),s);case 5:return(0,r.nk)(f(t),s);case 6:return(0,r.nk)(b(t),s);case 7:return(0,r.nk)(t.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} et {{ seventh }}", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ seventh }}", "getTranslatedList.sevenPeople", undefined, true),s);default:return(0,r.nk)(t.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} et {{ remaining }} autres", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ remaining }} others", "getTranslatedList.moreThan7People", undefined, true),s)}}},32250:function(e,t,o){o.d(t,{Z:()=>s});var r=o(378888);function s(e){let{boardId:t,username:o,slug:s}=e;return t?(0,r.tV)`/v3/boards/${t}/`:o&&s?(0,r.tV)`/v3/boards/${o}/${s}/`:null}},947810:function(e,t,o){o.d(t,{Z:()=>l});var r=o(821342),s=o(448505),a=o(7872);let l=()=>{let e=(0,r.Z)(),t=(0,s.Z)();return(0,a.lJ)(e,t)}},535877:function(e,t,o){o.r(t),o.d(t,{BoardCollabFlyout:()=>w,default:()=>j});var r=o(281098),s=o(667294),a=o(312048),l=o(20256),i=o(821342),n=o(19585),d=o(647709),c=o(981701),h=o(886981),_=o(32250),u=o(519689),p=o(689636),f=o(785893);function b({board:e,scrollInfo:t}){(0,s.useEffect)(()=>{(0,r.Z)("BoardCollaboratorMemberList","/app/www/BoardCollab/BoardCollaboratorMemberList.tsx")},[]);let o=(0,n.ZP)(),a=(0,h.Z)({name:"ApiResource",options:{url:(0,_.Z)({boardId:e.id})?.concat("collaborators/"),data:{fields:["user.domain_verified","user.explicitly_followed_by_me","user.full_name","user.id","user.image_medium_url","user.image_small_url","user.is_default_image","user.location","user.twitter_url","user.type","user.username","user.verified_identity"],page_size:10}},noCache:!0});if(!a.isLoaded)return(0,f.jsx)(l.xH,{accessibilityLabel:o.bt("Chargement...", "Loading", "Loading spinner when rendering users", undefined, true),show:!0});{let{owner:o}=e,{data:r,isAtEnd:l,isFetching:i,fetchMore:n}=a,d=[o,...r||[]];return(0,f.jsxs)(s.Fragment,{children:[t?(0,f.jsx)(p.Z,{fetchMore:n,isAtEnd:l,isFetching:i,scrollBuffer:3*t.container.clientHeight,scrollHeight:t.container.scrollHeight,scrollTop:t.top}):null,d.map(e=>{let{full_name:t,id:o,image_medium_url:r,username:s}=e;return(0,f.jsx)(u.Z,{imageUrl:r??"",linkURL:`/${s}/`,name:t??"",subtitle:s,title:t??""},o)})]})}}var m=o(59653),x=o(280203),g=o(77836);function v(e,t,o){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class w extends s.Component{constructor(...e){super(...e),v(this,"state",{contentRef:null,scrollContainer:null,scrollTop:null}),v(this,"handleBoardLeave",()=>{let{navigate:e,viewer:t}=this.props;e(t.isAuth?`/${t.username}`:"/",{replace:!0})}),v(this,"handleContentRef",e=>{let{contentRef:t}=this.state;!t&&e&&(this.setState({contentRef:e}),e.focus())}),v(this,"handleScrollContainer",e=>{let{scrollContainer:t}=this.state;!t&&e&&this.setState({scrollContainer:e})}),v(this,"handleScroll",()=>{let{scrollContainer:e}=this.state;e&&this.setState({scrollTop:e.scrollTop})})}renderInvite(e,t,o){if(!e.invited_user)return null;let r={invite:e,invitedUser:e.invited_user,onBoardLeave:t,onInviteDidUpdate:o,useGestaltModal:!0,isDim:!1};return(0,f.jsx)(c.Z,{...r})}render(){let{anchor:e,board:t,onDismiss:o,viewer:r}=this.props,{scrollContainer:s,scrollTop:a}=this.state,i=r.isAuth&&r.username===t.owner.username,n=s?{container:s,top:a||0}:null,d=(t.access||[]).includes("write");return(0,f.jsx)(x.k,{viewerIsOwner:i,children:(0,f.jsx)(l.mh,{children:(0,f.jsx)(l.xu,{position:"absolute",top:!0,zIndex:g.BO,children:(0,f.jsx)(l.J2,{anchor:e,idealDirection:"down",onDismiss:o,positionRelativeToAnchor:!1,size:this.props.isDesktop?"xl":"lg",children:(0,f.jsxs)(l.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",maxHeight:500,minWidth:320,width:"100%",children:[(0,f.jsx)(l.Le,{top:0,children:(0,f.jsx)(l.xu,{alignItems:"center",display:"flex",height:64,justifyContent:"center",paddingX:4,paddingY:4,position:"relative",children:(0,f.jsx)("div",{ref:this.handleContentRef,tabIndex:0,children:(0,f.jsx)(l.xv,{size:"300",weight:"bold",children:this.props.i18n.bt("Membres du groupe", "Group members", "boardCollabFlyout.header", undefined, true)})})})}),(0,f.jsx)(l.xu,{overflow:"scrollY",children:(0,f.jsx)(l.xu,{ref:this.handleScrollContainer,onScroll:this.handleScroll,children:d?(0,f.jsx)(m.Z,{board:t,onBoardLeave:this.handleBoardLeave,renderInvite:this.renderInvite,scrollInfo:n}):(0,f.jsx)(b,{board:t,scrollInfo:n})})})]})})})})})}componentDidMount(){(0,r.Z)("BoardCollabFlyout","/app/www/BoardCollab/BoardCollabFlyout.tsx")}}function j(e){(0,s.useEffect)(()=>{(0,r.Z)("BoardCollabFlyout","/app/www/BoardCollab/BoardCollabFlyout.tsx")},[]);let t=(0,n.ZP)(),o=(0,i.Z)(),l=(0,a.s0)(),c=(0,d.HG)();return(0,f.jsx)(w,{...e,i18n:t,isDesktop:c,navigate:l,viewer:o})}},981701:function(e,t,o){o.d(t,{Z:()=>k});var r=o(281098),s=o(667294),a=o(581722),l=o(20256),i=o(475498),n=o(821342),d=o(19585),c=o(87853),h=o(448505),_=o(7872),u=o(675973),p=o(417245),f=o(982166),b=o(302148),m=o(15667),x=o(785893);function g({boardName:e,collaboratorName:t,onCancelTransferRequest:o,onDismiss:a}){(0,s.useEffect)(()=>{(0,r.Z)("BoardCollabOwnershipTransferModal","/app/www/BoardCollab/BoardCollabOwnershipTransferModal.tsx")},[]);let i=(0,d.ZP)(),n=(0,m.B)();return(0,x.jsx)(f.ZP,{accessibilityModalLabel:i.bt("Modal de transfert de propriété de tableau", "Board ownership transfer modal", "boardCollabOwnershipTransferModal.accessibilityModalLabel", undefined, true),footer:(0,x.jsxs)(l.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:[(0,x.jsx)(l.iP,{fullWidth:!1,onTap:o,children:(0,x.jsx)(l.xv,{weight:"bold",children:i.bt("Annuler la demande", "Cancel request", "boardCollabOwnershipTransferModal.cancelRequest", undefined, true)})}),(0,x.jsx)(l.zx,{color:"red",onClick:a,size:"lg",text:i.bt("Compris !", "Got it", "boardCollabOwnershipTransferModal.confirmationButton", undefined, true)})]}),heading:(0,x.jsxs)(l.xu,{paddingY:8,position:"relative",children:[(0,x.jsx)(l.X6,{align:"center",size:"600",children:i.bt("Collaborateurs", "Collaborators", "boardCollabOwnershipTransferModal.heading", undefined, true)}),(0,x.jsx)(l.xu,{left:n.isRTL,paddingX:6,paddingY:8,position:"absolute",right:!n.isRTL,top:!0,children:(0,x.jsx)(l.hU,{accessibilityLabel:i.bt("Fermer", "Close", "boardCollabOwnershipTransferModal.iconAccessibilityLabel", undefined, true),icon:"cancel",iconColor:"darkGray",onClick:a,size:"md"})})]}),onDismiss:a,children:(0,x.jsx)(l.xu,{paddingX:8,children:(0,x.jsx)(l.xv,{align:"center",children:(0,b.nk)(i.bt("Votre requête pour que {{ collaboratorName }} devienne propriétaire de {{ boardName }} a été envoyée. Lorsque votre collaborateur aura accepté, vous pourrez toujours ajouter des Épingles. En revanche, vous ne serez plus en mesure de gérer les collaborateurs ou de modifier le nom, la photo de couverture ou la description de ce tableau.", "We sent {{ collaboratorName }} your request for them to own {{ boardName }}. When they accept, you can still add Pins—but you won’t be able to manage collaborators, change the name, cover photo, or description of this board.", "boardCollabOwnershipTransferModal.descriptionText", undefined, true),{collaboratorName:t,boardName:(0,x.jsx)(l.xv,{inline:!0,weight:"bold",children:e})})})})})}var v=o(280203),w=o(415602);function j({boardId:e,collaboratorId:t,collaboratorName:o,isAcceptedCollaborator:i,onDelete:n}){(0,s.useEffect)(()=>{(0,r.Z)("BoardCollabInviteOverflowButton","/app/www/BoardCollab/BoardCollabInviteOverflowButton.tsx")},[]);let c=(0,a.I0)(),h=(0,d.ZP)(),_=(0,s.useRef)(null),[u,p]=(0,s.useState)(!1),[f,b]=(0,s.useState)(!1),{boardName:m,pendingOwnershipTransfer:j}=(0,v.Z)(),P=()=>{c((0,w.xx)(e,t)),p(!1)},C=async()=>{p(!1),await c((0,w.Cf)(e,t)),b(!0)},A=function({i18n:e,isAcceptedCollaborator:t,onCancelTransferRequest:o,onDelete:r,onRequestTransfer:s,showCancelRequestOption:a,showRequestTransferOption:l}){let i=[{onSelect:r,option:{value:"Remove from board",label:e.bt("Supprimer du tableau", "Remove from board", "getCollaboratorDropdownItems.removeText", undefined, true)}}];return t&&(a&&i.push({onSelect:o,option:{value:"Cancel request",label:e.bt("Annuler la demande", "Cancel request", "getCollaboratorDropdownItems.cancelText", undefined, true)}}),l&&i.push({onSelect:s,option:{value:"Request as board owner",label:e.bt("Faire une demande en tant que propriétaire du tableau", "Request as board owner", "getCollaboratorDropdownItems.requestText", undefined, true)}})),i}({i18n:h,isAcceptedCollaborator:i,onCancelTransferRequest:P,onDelete:n,onRequestTransfer:()=>{C()},showCancelRequestOption:j===t,showRequestTransferOption:!j});return(0,x.jsxs)(s.Fragment,{children:[(0,x.jsxs)(l.kC,{justifyContent:"center",children:[(0,x.jsx)(l.hU,{ref:_,accessibilityLabel:h.bt("Options de collaborateur", "Collaborator options", "boardCollabInviteOverflowButton.accessibilityLabel", undefined, true),bgColor:"transparent",icon:"ellipsis",iconColor:"darkGray",onClick:()=>p(!u),selected:u,size:"md"}),u&&(0,x.jsx)(l.Lt,{anchor:_.current,disableMobileUI:!0,id:"board-collaborator-dropdown",idealDirection:"down",onDismiss:()=>p(!1),zIndex:new l.Ry(1e3),children:(0,x.jsx)(l.Lt.Section,{label:h.bt("Options", "Options", "boardCollabInviteOverflowButton.dropdownSection", undefined, true),children:A.map(e=>(0,x.jsx)(l.Lt.Item,{onSelect:e.onSelect,option:e.option},e.option.value))})})]}),f&&(0,x.jsx)(g,{boardName:m,collaboratorName:o,onCancelTransferRequest:()=>{P(),b(!1)},onDismiss:()=>{b(!1)}})]})}var P=o(519689);function C({actionsDisabled:e,invite:t,invitedUser:o,isDim:a,onApprove:i,onDelete:c}){(0,s.useEffect)(()=>{(0,r.Z)("BoardCollabInviteCell","/app/www/BoardCollab/BoardCollabInviteCell.tsx")},[]);let h=(0,d.ZP)(),_=(0,n.Z)(),{access:f,board:b,status:m,invited_by_user:g}=t,{pendingOwnershipTransfer:w,viewerIsOwner:C}=(0,v.Z)(),A=_.isAuth&&o.id===_.id,y=_.isAuth&&g.id===_.id,z=o.id===g.id,B="accepted"===m,I=f.includes("approve"),T=f.includes("delete"),k=h.bt("Approuver", "Approve", "[button] approve another pinner's request to join the board as a collaborator", undefined, true),Z=A?h.bt("Quitter", "Leave", "[button] for a collaborator to leave a group board", undefined, true):z&&!B?h.bt("Décliner", "Decline", "[button] decline another pinner's request to join board as a collaborator", undefined, true):h.bt("Supprimer", "Remove", "[button] remove a collaborator from the board]", undefined, true),S=T&&!I,L=T&&I,O=`/${o.username}/`,{checkExperiment:q}=(0,u.Z)(),R=C&&q("web_board_ownership_transfer").anyEnabled,M=R?(0,x.jsx)(j,{boardId:b.id,collaboratorId:o.id,collaboratorName:o.full_name,isAcceptedCollaborator:B,onDelete:c||(()=>{})}):(0,x.jsx)(l.zx,{disabled:e,onClick:c,size:"lg",text:Z}),D=w===o.id,E=R&&(void 0!==a?a:!B);return(0,x.jsxs)(l.xu,{children:[(0,x.jsx)(P.Z,{accessory:S&&M,imageUrl:o.image_medium_url||"",isDim:!R&&(void 0!==a?a:!B),linkURL:O,name:o.full_name,subtitle:((e,o,r,s,a)=>{let l,i=t.invited_by_user.full_name;return l=o?h.bt("Invitation en attente", "Invitation pending", "boardCollabInviteCell.pendingInvitationText", undefined, true):r?h.bt("C’est vous", "That's you", "subtext for current user who requested to join this board", undefined, true):s?h.bt("Invité(e) par vous", "Invited by you", "subtext for a pending collaborator who was invited by the current viewer", undefined, true):a?h.bt("a demandé à rejoindre le tableau", "Requested to join", "The subtext that identifies a pending collaborator has personally requested to join the board", undefined, true):(0,p.Z)(h.bt("Invité(e) par {{ user_full_name }}", "Invited by {{ user_full_name }}", "The subtext that identifies a pending collaborator who was invited to collaborate on the board", undefined, true),{user_full_name:i}),e&&(l=l.concat(h.bt(" · Demande de propriété en attente", " · Ownership pending", "boardCollabInviteCell.pendingOwnershipText", undefined, true))),l})(D,E,A,y,z),title:o.full_name}),L&&(0,x.jsxs)(l.xu,{display:"flex",justifyContent:"end",marginStart:12,paddingX:3,children:[(0,x.jsx)(l.xu,{flex:"grow",paddingX:1,width:"50%",children:(0,x.jsx)(l.zx,{disabled:e,fullWidth:!0,onClick:c,size:"lg",text:Z})}),(0,x.jsx)(l.xu,{flex:"grow",paddingX:1,width:"50%",children:(0,x.jsx)(l.zx,{color:"red",disabled:e,fullWidth:!0,onClick:i,size:"lg",text:k})})]})]})}function A(e){(0,s.useEffect)(()=>{(0,r.Z)("CollaboratorButtonForm","/app/www/boardEdit/BoardInvites/CollaboratorButtonForm.tsx")},[]);let t=(0,d.ZP)(),{onCancel:o,onRemove:a,useGestaltModal:i}=e,n=t.bt("Voulez-vous vraiment quitter ce tableau collaboratif et le supprimer de votre profil ?", "Are you sure you want to leave this group board and remove it from your profile?", " - ", undefined, true),c=i?l.u_:f.ZP;return(0,x.jsx)(c,{accessibilityModalLabel:t.bt("Quitter le tableau ?", "Leave board?", " - ", undefined, true),footer:(0,x.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"end",children:[(0,x.jsx)(l.xu,{paddingX:1,children:(0,x.jsx)(l.zx,{onClick:o,text:t.bt("Annuler", "Cancel", " - ", undefined, true)})}),(0,x.jsx)(l.xu,{paddingX:1,children:(0,x.jsx)(l.zx,{color:"red",onClick:a,text:t.bt("Quitter", "Leave", " - ", undefined, true)})})]}),heading:t.bt("Quitter le tableau ?", "Leave board?", " - ", undefined, true),onDismiss:o,size:"sm",children:(0,x.jsx)(l.xu,{padding:5,children:(0,x.jsx)(l.xv,{children:n})})})}class y extends s.Component{constructor(...e){var t,o,r;super(...e),o={shouldBlock:!1},(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t="state","string"))?r:r+"")in this?Object.defineProperty(this,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[t]=o}getBlockDescription(e,t){if("declineRequest"===e)if(t)return(0,b.nk)(this.props.i18n.bt("La demande de participation au tableau de {{ invited_user_first_name }} sera déclinée et ses éventuelles demandes de collaboration ultérieures seront bloquées.", "This will decline {{ invited_user_first_name }} from joining this board and block them from subsequent collaboration requests.", "decline another pinner's request to join board as a collaborator and block them", undefined, true),{invited_user_first_name:t});else return this.props.i18n.bt("La demande de participation au tableau de ce membre sera déclinée et ses éventuelles demandes de collaboration ultérieures seront bloquées.", "This will decline this person from joining this board and block them from subsequent collaboration requests.", "message that explains consequences of declining a request to join board as a collaborator", undefined, true);return t?(0,b.nk)(this.props.i18n.bt("Vous supprimerez {{ invited_user_first_name }}, les personnes invitées par {{ invited_user_first_name }}, ainsi que l’ensemble de leurs Épingles.", "This will remove {{ invited_user_first_name }}, people {{ invited_user_first_name }} invited, and all their Pins.", " - ", undefined, true),{invited_user_first_name:t}):this.props.i18n.bt("Vous supprimerez ce membre, les personnes invitées par ce membre, ainsi que l’ensemble de leurs Épingles.", "This will remove this person, people they invited, and all their Pins.", "message that explains consequences of removing a collaborator", undefined, true)}render(){let{removeType:e,firstName:t,fullName:o,onCancel:r,onRemove:a,onRemoveAndBlock:i,useGestaltModal:n}=this.props,d="declineRequest"===e?(0,b.nk)(this.props.i18n.bt("Décliner la demande de {{ invited_user_name }} ?", "Decline {{ invited_user_name }}?", "[button] to decline a pinner's request to join a board as a collaborator", undefined, true),{invited_user_name:o}).join(""):(0,b.nk)(this.props.i18n.bt("Supprimer {{ invited_user_name }} ?", "Remove {{ invited_user_name }}?", "[button] to remove a pinner as a collaborator from a group board", undefined, true),{invited_user_name:o}).join(""),c=this.props.i18n.bt("Ce membre ne pourra plus enregistrer d’Épingles sur ce tableau. Autres possibilités :", "This will keep them from saving Pins to this board. You can also:", "decline another pinner's request to join board as collaborator. Ending fragment preceeds checkbox for blocking the user.", undefined, true),h=this.getBlockDescription(e,t),_=this.state.shouldBlock?this.props.i18n.bt("Bloquer", "Block", "block another pinner after denying their request to collaborate on a board", undefined, true):this.props.i18n.bt("Supprimer", "Remove", "decline another pinner's request to collaborate on a board", undefined, true),u=(0,x.jsxs)(s.Fragment,{children:[(0,x.jsx)(l.xu,{padding:5,children:(0,x.jsx)(l.xv,{children:c})}),(0,x.jsx)(l.iz,{}),(0,x.jsxs)(l.xu,{display:"flex",padding:5,children:[(0,x.jsx)(l.xu,{paddingX:1,children:(0,x.jsx)(l.XZ,{checked:this.state.shouldBlock,id:"banUser",name:"ban",onChange:()=>this.setState(({shouldBlock:e})=>({shouldBlock:!e}))})}),(0,x.jsx)(l.xu,{paddingX:1,children:(0,x.jsxs)(l.__,{htmlFor:"banUser",children:[(0,x.jsx)(l.xv,{weight:"bold",children:(0,b.nk)(this.props.i18n.bt("Bloquer {{ name }}", "Block {{ name }}", " - ", undefined, true),{name:t||""})}),(0,x.jsx)(l.xv,{size:"200",children:h})]})})]})]}),p=n?l.u_:f.ZP;return(0,x.jsx)(p,{accessibilityModalLabel:d,footer:(0,x.jsxs)(l.xu,{display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,x.jsx)(l.xu,{paddingX:1,children:(0,x.jsx)(l.zx,{onClick:r,text:this.props.i18n.bt("Annuler", "Cancel", " - ", undefined, true)})}),(0,x.jsx)(l.xu,{paddingX:1,children:(0,x.jsx)(l.zx,{color:"red",onClick:this.state.shouldBlock?i:a,text:_})})]}),heading:d,onDismiss:r,size:"sm",children:u})}}function z(e){(0,s.useEffect)(()=>{(0,r.Z)("CollaboratorButtonForm","/app/www/boardEdit/BoardInvites/CollaboratorButtonForm.tsx")},[]);let t=(0,d.ZP)();return(0,x.jsx)(y,{...e,i18n:t})}var B=o(25837);function I(e,t,o){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class T extends s.Component{constructor(...e){super(...e),I(this,"state",{currentModal:null,loading:!1}),I(this,"showRemoveSuccessToast",()=>{let{toastManagerContext:e}=this.props,t=this.props.i18n.bt("Collaborateur supprimé", "Collaborator removed", "BoardCollabInviteCellContainer.toast", undefined, true);e.showOneToast(({hideToast:e})=>(0,x.jsx)(i.Z,{duration:3e3,onHide:e,text:t}))}),I(this,"onDelete",()=>{let{onModalOpen:e}=this.props;e&&e(),this.setState({currentModal:"delete"})}),I(this,"onApprove",()=>{let{approveBoardCollabInvite:e,onInviteDidUpdate:t}=this.props;this.setState({loading:!0}),e().then(t).finally(()=>{this.setState({loading:!1})})}),I(this,"deleteBoardInvite",(e=!1)=>{let{deleteBoardCollabInvite:t,onBoardLeave:o,onInviteDidUpdate:r}=this.props,{isViewerInvitedUser:s}=this;this.setState({currentModal:null,loading:!0}),t(s,e).then(()=>{r(),this.showRemoveSuccessToast(),s&&o()}).catch(()=>{}).finally(()=>{this.setState({loading:!1})})}),I(this,"handleDeleteBoardInvite",()=>{this.deleteBoardInvite(!1)}),I(this,"handleDeleteBoardInviteAndBan",()=>{this.deleteBoardInvite(!0)}),I(this,"handleHideModal",()=>{this.setState({currentModal:null})})}get isViewerInvitedUser(){let{viewer:e,invitedUser:t}=this.props;return e.isAuth&&e.id===t.id}get isRequestToJoin(){let{invitedUser:e,invite:{invited_by_user:t}}=this.props;return e.id===t.id}renderCurrentModal(){let{invitedUser:e,useGestaltModal:t=!1}=this.props,{currentModal:o}=this.state;if("delete"===o)if(this.isViewerInvitedUser)return(0,x.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{zIndex:B.fe+1}},position:"absolute",children:(0,x.jsx)(A,{onCancel:this.handleHideModal,onRemove:this.handleDeleteBoardInvite,useGestaltModal:t})});else return(0,x.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{zIndex:B.fe+1}},position:"absolute",children:(0,x.jsx)(z,{firstName:e.first_name,fullName:e.full_name,onCancel:this.handleHideModal,onRemove:this.handleDeleteBoardInvite,onRemoveAndBlock:this.handleDeleteBoardInviteAndBan,removeType:this.isRequestToJoin?"declineRequest":"removeCollaborator",useGestaltModal:t})});return null}render(){let{invite:e,invitedUser:t,isDim:o}=this.props,{loading:r}=this.state;return(0,x.jsxs)(l.xu,{children:[(0,x.jsx)(C,{actionsDisabled:r,invite:e,invitedUser:t,isDim:o&&"accepted"!==e.status,onApprove:this.onApprove,onDelete:this.onDelete}),this.renderCurrentModal()]})}}function k(e){(0,s.useEffect)(()=>{(0,r.Z)("BoardCollabInviteCellContainer","/app/www/BoardCollab/BoardCollabInviteCellContainer.tsx")},[]);let{invite:t,invitedUser:{id:o},invite:{board:{id:l}}}=e,i=(0,d.ZP)(),u=(0,n.Z)(),p=(0,a.I0)(),f=(0,h.Z)(),b=(0,_.lJ)(u,f),m=(0,w.h6)(),g=async()=>{m(l,o)},v=(0,w.yC)();return(0,x.jsx)(T,{...e,approveBoardCollabInvite:g,deleteBoardCollabInvite:(e,o)=>p(v(t,e,o)),i18n:i,orbacSubjectId:b,toastManagerContext:(0,c.dI)(),viewer:(0,n.Z)()})}},59653:function(e,t,o){o.d(t,{Z:()=>x});var r=o(281098),s=o(667294),a=o(20256),l=o(19585),i=o(302148),n=o(886981),d=o(947810),c=o(981701),h=o(519689),_=o(280203),u=o(689636),p=o(785893);function f({fetchMore:e,invites:t,isAtEnd:o,isFetching:l,onBoardLeave:i,refreshData:n,renderInvite:d,scroll:c}){return(0,s.useEffect)(()=>{(0,r.Z)("BoardInvites","/app/www/boardEdit/BoardInvites/BoardInvites.tsx")},[]),(0,p.jsxs)(a.xu,{children:[c&&(0,p.jsx)(u.Z,{fetchMore:e,isAtEnd:o,isFetching:l,scrollBuffer:3*c.container.clientHeight,scrollHeight:c.container.scrollHeight,scrollTop:c.top}),t.map((e,t)=>e&&e.invited_user&&e.invited_user.id?(0,p.jsx)(a.xu,{children:d(e,i,n)},t):null)]})}var b=o(111879);class m extends s.Component{constructor(...e){var t,o,r;super(...e),t="handleInvitesDidUpdate",o=()=>{let{invitesPendingApproval:e,invites:t}=this.props;e.refresh(),t.refresh()},(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in this?Object.defineProperty(this,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[t]=o}shouldComponentUpdate(e){let{invites:{data:t},pendingOwnershipTransfer:o}=e,{invites:{data:r},pendingOwnershipTransfer:s}=this.props;return!r||s!==o||!!t&&r.length!==t.length}render(){let{board:e,invites:t,invitesPendingApproval:o,scrollInfo:r,onBoardLeave:l,onModalOpen:n,pendingOwnershipTransfer:d,renderInvite:_}=this.props,{full_name:u,image_medium_url:m,username:x}=e.owner,g=(t.data||[]).find(e=>e.invited_user?.id===d)?.invited_user?.full_name,v=d&&g?(0,i.nk)(this.props.i18n.bt("Demande faite à {{ collaboratorName }} de devenir propriétaire du tableau", "Requested {{ collaboratorName }} to change to board owner", "boardInviteSheet.CollaboratorList.boardOwner.ownershipRequestSubtitle", undefined, true),{collaboratorName:g}).join(""):this.props.i18n.bt("Propriétaire de ce tableau", "Owner of this board", "boardInviteSheet.CollaboratorList.boardOwner.subtitle", undefined, true);return(0,p.jsx)(s.Fragment,{children:t.isLoaded||o.isLoaded?(0,p.jsx)(b.Z,{fetchMore:t.fetchMore,children:({onScroll:e,setRef:s})=>(0,p.jsxs)(a.xu,{ref:s,maxHeight:"50vh",onScroll:e,overflow:"auto",width:"100%",children:[(0,p.jsx)(f,{fetchMore:o.fetchMore,invites:o.data||[],isAtEnd:o.isAtEnd,isFetching:o.isFetching,onBoardLeave:l,refreshData:this.handleInvitesDidUpdate,renderInvite:_,scroll:r}),(o.data||[]).length>0?(0,p.jsx)(a.xu,{paddingY:3,children:(0,p.jsx)(a.iz,{})}):null,(0,p.jsxs)(a.xu,{paddingY:1,children:[(0,p.jsx)(h.Z,{imageUrl:m??"",linkURL:`/${x}/`,name:u??"",subtitle:v,title:u??""}),(t.data||[]).map(e=>e&&e.invited_user&&e.invited_user.id?(0,p.jsx)(c.Z,{invite:e,invitedUser:e.invited_user,onBoardLeave:l,onInviteDidUpdate:t.refresh,onModalOpen:n},e.invited_user.id):null)]})]})}):(0,p.jsx)(a.xH,{accessibilityLabel:this.props.i18n.bt("Chargement...", "Loading", "Loading state for showing board collaborators", undefined, true),show:!0})})}}function x(e){(0,s.useEffect)(()=>{(0,r.Z)("BoardInvitesAndCollaboratorList","/app/www/BoardCollab/BoardInvitesAndCollaboratorList.tsx")},[]);let t=(0,l.ZP)(),{pendingOwnershipTransfer:o}=(0,_.Z)(),a=(0,d.Z)(),i=(0,n.Z)({name:"BoardInvitesResource",options:{board_id:e.board.id,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0,allow_stale:!1,...a?{orbac_subject_id:a}:{}}}),c=(0,n.Z)({name:"BoardInvitesResource",options:{board_id:e.board.id,field_set_key:"boardEdit",status_filters:"pending_approval",allow_stale:!1,...a?{orbac_subject_id:a}:{}}});return(0,p.jsx)(m,{...e,i18n:t,invites:i,invitesPendingApproval:c,pendingOwnershipTransfer:o})}},519689:function(e,t,o){o.d(t,{Z:()=>h});var r=o(281098),s=o(667294),a=o(20256),l=o(744862),i=o(821342),n=o(19585),d=o(47426),c=o(785893);function h(e){(0,s.useEffect)(()=>{(0,r.Z)("ContactCell","/app/www/BoardCollab/ContactCell.tsx")},[]);let{imageUrl:t,name:o,title:h,subtitle:_,accessory:u,linkURL:p,isDim:f}=e,b=(0,n.ZP)(),m=(0,i.Z)(),x=m.isAuth?m?.avatar_color_index:void 0,g={__style:{opacity:f?.5:1}},v=(0,d.Z)({url:p??""})?"nofollow":"none";return(0,c.jsx)(s.Fragment,{children:o&&h&&(0,c.jsxs)(a.xu,{alignItems:"center","aria-label":b.bt("Collaborateur", "Collaborator", "BoardCollabInviteCell.div.ariaLabel", undefined, true),display:"flex",marginBottom:4,paddingX:4,role:"group",children:[(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:g,marginEnd:2,children:(0,c.jsx)(a.Tg,{href:p||"",rel:v,rounding:"circle",children:(0,c.jsx)(l.qE,{color:x,name:o,outline:!0,size:"md",src:t})})}),(0,c.jsxs)(a.xu,{alignItems:"stretch",dangerouslySetInlineStyle:g,direction:"column",display:"flex",flex:"grow",children:[(0,c.jsx)(a.xv,{color:"default",lineClamp:1,size:"300",weight:"bold",children:(0,c.jsx)(a.rU,{href:p||"",rel:v,children:h})}),(0,c.jsx)(a.xv,{color:"subtle",lineClamp:1,size:"100",children:_})]}),u&&(0,c.jsx)(a.xu,{marginStart:4,children:u})]})})}},280203:function(e,t,o){o.d(t,{Z:()=>d,k:()=>n});var r=o(667294),s=o(729434),a=o(785893);let{Provider:l,get:i}=(0,s.Z)("BoardOwnershipTransferContext");function n({boardName:e="",children:t,pendingOwnershipTransfer:o=null,viewerIsOwner:s}){let i=(0,r.useMemo)(()=>({boardName:e,pendingOwnershipTransfer:o,viewerIsOwner:s}),[e,o,s]);return(0,a.jsx)(l,{value:i,children:t})}let d=i},199593:function(e,t,o){o.d(t,{Z:()=>a,k:()=>r});let{Provider:r,get:s}=(0,o(729434).Z)("Conversations"),a=s},111879:function(e,t,o){o.d(t,{Z:()=>l});var r=o(667294),s=o(159527);function a(e,t,o){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class l extends r.PureComponent{constructor(...e){super(...e),a(this,"setContainerRef",e=>{this.containerRef=e}),a(this,"fetchMoreIfNecessary",(0,s.Z)(()=>{let{fetchMore:e,scrollBuffer:t}=this.props;e&&this.containerRef&&(({scrollTop:e,clientHeight:t,scrollHeight:o},r)=>e+t+(r?r(t):2*t)>o)(this.containerRef,t)&&e()},200))}componentDidMount(){setTimeout(this.fetchMoreIfNecessary)}componentDidUpdate(){this.fetchMoreIfNecessary()}render(){let{children:e}=this.props;return e({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}},689636:function(e,t,o){o.d(t,{Z:()=>s});var r=o(667294);class s extends r.PureComponent{constructor(...e){var t,o,r;super(...e),t="check",o=()=>{let{isAtEnd:e,isFetching:t,fetchMore:o,scrollBuffer:r,scrollHeight:s,scrollTop:a}=this.props;e||t||a+r>s&&o()},(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in this?Object.defineProperty(this,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[t]=o}componentDidMount(){setTimeout(this.check)}componentDidUpdate(){this.check()}render(){return null}}},741331:function(e,t,o){o.d(t,{Z:()=>r});let r=(0,o(667294).createContext)({inboxButton:null,setInboxButton:()=>{},profileInboxButton:null,groupBoardMessageButton:null,setProfileInboxButton:()=>{},isUnblockToast:!1,setIsUnblockToast:()=>{},setGroupBoardMessageButton:()=>{}})},966269:function(e,t,o){o.d(t,{Z:()=>a});var r=o(667294),s=o(741331);function a(){let e=(0,r.useContext)(s.Z);if(void 0===e)throw Error("useInboxButtonContext must be used within a InboxButtonContext Provider.");return e}},558926:function(e,t,o){o.d(t,{Z:()=>B});var r=o(281098),s=o(667294),a=o(20256),l=o(355940),i=o(900675),n=o(444185),d=o(947810),c=o(984126),h=o(312048),_=o(980787),u=o(207145),p=o(821342),f=o(15667),b=o(378888),m=o(341742),x=o(199593),g=o(966269),v=o(975740),w=o(244526),j=o(438235),P=o(785893);let C=88,A=30,y=({boardTool:e,boardId:t,boardSectionId:o,iconSize:l=A,index:i,toolSize:n=C})=>{(0,s.useEffect)(()=>{(0,r.Z)("BoardTool","/app/www/save/board/BoardTools/BoardTool.tsx")},[]);let[d,c]=(0,s.useState)(!1),y=(0,w.$)(),{icon:z,link:B,text:I,tool:T}=e,{section_slug:k}=(0,j.Z)(),Z=B.split("/").slice(0,3),S=B.split("/").slice(4),L=B.split("/")[3]!==k&&o&&k?[...Z,k,...S].join("/"):B,{isRTL:O}=(0,f.B)(),{logContextEvent:q}=(0,_.u)(),{owner:R,pin_count:M,section_count:D}=(0,v.gC)()(t)||{},E=(0,p.Z)(),H=E.isAuth?E.id:"",F=R?.id===H?3069:3070,N=0===T,U=e=>{1===T&&q({event_type:e,view_type:o?164:5,view_parameter:F,element:10600,aux_data:{board_id:t,board_pin_count:M,board_section_count:D,board_section_id:o,grid_index:i}}),N&&q({event_type:e,view_type:o?164:5,view_parameter:F,component:14926,element:11990,aux_data:{board_id:t,board_session_id:y}})};(0,m.Z)(()=>{U(120),N&&U(13)});let G=(0,s.useRef)(null),{setGroupBoardMessageButton:J}=(0,g.Z)(),{conversations:{showConversationsDropdown:X},conversationOpen:W,dropdownOpen:Y,dropdownClose:$}=(0,x.Z)(),V=(0,h.TH)(),{conversation_id:K,tab:Q}=(0,b.mB)(V.search),ee=4===T&&!!K&&"inbox"===Q;ee&&J(G.current);let et=(e=>{switch(e){case 0:return 3003;case 1:return 3004;case 2:return 3005;default:return}})(T);return(0,P.jsxs)(s.Fragment,{children:[(0,P.jsx)(a.Tg,{ref:G,accessibilityLabel:I,href:ee?"":L,onBlur:()=>c(!1),onFocus:()=>c(!0),onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onTap:()=>{ee&&(U(102),X?$():(Y(),W(K))),N&&U(101)},rounding:6,children:(0,P.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"1px"}},direction:"column",display:"flex",justifyContent:"center",children:[(0,P.jsx)(a.xu,{alignItems:"center",alignSelf:"center",color:d?"lightWash":"secondary",display:"flex",height:n,justifyContent:"center",rounding:6,width:n,children:(0,P.jsx)(a.JO,{accessibilityLabel:I,color:"default",icon:"text-align-left"===z&&O?"text-align-right":z,size:l})}),(0,P.jsx)(a.xu,{paddingY:1,width:n,children:(0,P.jsx)(a.xv,{align:"center",lineClamp:2,size:"100",weight:"bold",children:I})})]})}),et&&(0,P.jsxs)(s.Fragment,{children:[(0,P.jsx)(u.cs,{anchors:{[et]:G.current},placementId:18,positionRelativeToAnchor:!1}),(0,P.jsx)(u.N,{anchors:{[et]:G.current},idealDirection:"down",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0})]})]})};function z(e){let{boardId:t,sectionId:o,iconSize:r,isBoardEmpty:s,toolSize:l,boardOrSectionToolsRef:n}=e,c=(0,d.Z)(),{data:h}=(0,i.Z)(n);if(!h||!h.length)return null;let _=h.filter(({tool:e})=>!c||2===e).filter(({tool:e})=>!s||2!==e);return _.length?(0,P.jsx)(a.xu,{"data-test-id":"board-tools",children:(0,P.jsx)(a.kC,{alignItems:"start",justifyContent:"center",width:"100%",children:_.map((e,s)=>(0,P.jsx)(a.xu,{"data-test-id":e.text,padding:1,children:(0,P.jsx)(y,{boardId:t,boardSectionId:o,boardTool:e,iconSize:r,index:s,toolSize:l})},e.id))})}):null}function B(e){(0,s.useEffect)(()=>{(0,r.Z)("BoardToolsContainer","/app/www/save/board/BoardTools/BoardToolsContainer.tsx")},[]);let{sectionId:t,boardId:o}=e,a=(0,d.Z)(),i=!!t,{ref:h}=(0,n.Z)({name:i?"SectionToolsFeedResource":"BoardToolsFeedResource",options:i?{sectionId:t,orbacSubjectId:a}:{boardId:o,orbacSubjectId:a}});return(0,P.jsx)(l.Z,{name:"BoardToolsContainer_ResourceError",children:(0,P.jsx)(s.Suspense,{fallback:(0,P.jsx)(c.Z,{}),children:(0,P.jsx)(z,{...e,boardOrSectionToolsRef:h})})})}y.displayName="BoardTool"},600693:function(e,t,o){o.d(t,{Z:()=>p});var r=o(281098),s=o(667294),a=o(20256),l=o(980787),i=o(207145),n=o(19585),d=o(25837),c=o(277168),h=o(896273),_=o(77836),u=o(785893);function p({board:e,onArchiveClick:t,onCreatePincode:o,onEditBoardClick:p,onEditSectionClick:f,onMergeClick:b,onShowAbout:m,onUnarchiveClick:x,showArchiveOnly:g=!1,showCreatePinCodeOption:v,surface:w,excludeShareOption:j,size:P="sm",bgColor:C="lightGray"}){(0,s.useEffect)(()=>{(0,r.Z)("BoardHeaderOverflowFlyoutButton","/app/www/save/board/Headers/BoardHeader/BoardHeaderOverflowFlyoutButton.tsx")},[]);let A=(0,n.ZP)(),y=(0,s.useRef)(null),{logContextEvent:z}=(0,l.u)(),[B,I]=(0,s.useState)(!1),[T,k]=(0,s.useState)("boardOptions"),Z="automagical"===e.layout,S=()=>{I(!1),k("boardOptions")},L={description:e.description,id:e.id,imageUrl:e.image_cover_url,name:e.name,type:"board",url:e.url,ownerId:e.owner?.id},O=()=>{I(e=>!e),k("boardOptions")},q=!!e.archived_by_me_at,R=["section"===w?function({handleClose:e,onEditClick:t,setMenuType:o},r,s){return{items:[{dataTestId:"edit-section-button",text:r.bt("Section Modification", "Edit Section", "BoardHeader.getSectionOptionsCategory.EditOption", undefined, true),onClick:()=>{t(),e()}},{text:r.bt("Partager", "Share", "BoardHeader.getSectionOptionsCategory.ShareOption", undefined, true),onClick:()=>{(0,c.Z)(s),o("boardShare")}}],label:r.bt("Options de sous-tableaux", "Section options", "BoardHeader.getSectionOptionsCategory.OptionsCategory", undefined, true)}}({handleClose:S,onEditClick:f,setMenuType:k},A,z):function({handleClose:e,isArchived:t,isAutomagical:o,onArchiveClick:r,onCreatePincode:s,onEditClick:a,onMergeClick:l,onShowAbout:i,onUnarchiveClick:n,setMenuType:d,showCreatePinCodeOption:h,isAdOnlyPins:_,excludeShareOption:u},p,f,b){let m=[];return o?m.push({dataTestId:"aboutRecommendationsButton",text:p.bt("À propos des tableaux créés pour vous", "About boards made for you", "BoardHeader.BoardOptionsFlyout.AboutBoardsForYouOption", undefined, true),onClick:()=>{i?.(),e()}}):(b||m.push({dataTestId:"editBoardButton",text:p.bt("Modifier", "Edit board", "BoardHeader.BoardOptionsFlyout.EditOption", undefined, true),onClick:()=>{a(),e()}}),u||m.push({dataTestId:"shareBoardButton",text:p.bt("Partager", "Share", "BoardHeader.BoardOptionsFlyout.ShareOption", undefined, true),onClick:()=>{(0,c.Z)(f),d("boardShare")}}),_||t||m.push({dataTestId:"mergeBoardButton",text:p.bt("Fusionner", "Merge", "BoardHeader.BoardOptionsFlyout.MergeOption", undefined, true),onClick:()=>{l(),e()}}),t?m.push({dataTestId:"unarchiveBoardButton",text:p.bt("Désarchiver", "Unarchive", "BoardHeader.BoardOptionsFlyout.UnarchiveOption", undefined, true),onClick:()=>{n(),e()}}):m.push({dataTestId:"archiveBoardButton",text:p.bt("Archiver", "Archive", "BoardHeader.BoardOptionsFlyout.ArchiveOption", undefined, true),onClick:()=>{r(),e()}}),h&&!b&&m.push({dataTestId:"createPinCodeBoardButton",text:p.bt("Créer un Pincode", "Create Pincode", "BoardHeader.BoardOptionsFlyout.PincodeOption", undefined, true),onClick:()=>{s(),e()}})),{items:m,label:p.bt("Options du tableau", "Board options", "BoardHeader.BoardOptionsFlyout.OptionsCategory", undefined, true)}}({handleClose:S,isArchived:q,isAutomagical:Z,onArchiveClick:t,onCreatePincode:o,onEditClick:p,onMergeClick:b,onShowAbout:m,onUnarchiveClick:x,setMenuType:k,showCreatePinCodeOption:v,isAdOnlyPins:e.is_ads_only,excludeShareOption:j},A,z,g)];return(0,u.jsxs)(a.xu,{position:"relative",zIndex:new a.Ry(d.fe-1),children:[(0,u.jsx)(a.xu,{ref:y,"data-test-id":"more-board-options",children:(0,u.jsx)(a.hU,{accessibilityLabel:A.bt("Plus d’options de tableau", "More Board options", "BoardHeaderOVerflowFlyoutButton.IconButton.AccessibilityLabel", undefined, true),bgColor:C,icon:"ellipsis",iconColor:"darkGray",onClick:O,selected:B,size:P})}),(0,u.jsx)(i.cs,{anchors:{3001:y.current},onCompleteByAnchor:{3001:O},placementId:18}),(0,u.jsx)(i.N,{anchors:{3001:y.current},idealDirection:"down",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0}),B&&("boardOptions"===T?(0,u.jsx)(a.Lt,{anchor:y.current,disableMobileUI:!0,id:"board_options",onDismiss:S,zIndex:_.m6,children:R.map(({items:e,label:t})=>(0,u.jsx)(a.Lt.Section,{label:t,children:e.map(({dataTestId:e,isSelected:t,onClick:o,text:r})=>(0,u.jsx)(a.Lt.Item,{dataTestId:e,onSelect:o,option:{label:r,value:r},selected:t?{label:r,value:r}:null},r))},t))}):(0,u.jsx)(a.J2,{anchor:y.current,onDismiss:S,size:"flexible",children:(0,u.jsx)(h.Z,{component:13216,onCreatePincodeClick:o,onHide:S,sendType:"board",sharedObject:L,viewType:5})}))]})}},419064:function(e,t,o){o.d(t,{Z:()=>X});var r=o(281098),s=o(667294),a=o(20256),l=o(675973),i=o(476785),n=o(250787),d=o(319227),c=o(628710),h=o(19585),_=o(103345),u=o(312048),p=o(980787),f=o(355940),b=o(207145),m=o(821342),x=o(821806),g=o(448505),v=o(7872),w=o(161774),j=o(785893);let P=(0,s.lazy)(()=>Promise.resolve().then(o.bind(o,535877)));function C({avatarSize:e,board:t,displayedCollaborators:o,isBoardPreviewMode:l,nonDisplayedCollaboratorCount:i,handleShowCollabAndPermissionsModal:n,showPersonAddIconForInvite:d}){let c;(0,s.useEffect)(()=>{(0,r.Z)("CollaboratorAvatarGroup","/app/www/save/board/BoardCollaboratorFacepile/CollaboratorAvatarGroup.tsx")},[]);let[h,_]=(0,s.useState)(!1),C=(0,m.Z)(),A=(0,s.useRef)(null),y=(0,s.useRef)(void 0),z=(0,u.s0)(),B=(0,g.Z)(),{logContextEvent:I}=(0,p.u)(),T=(0,v.KY)(C,t,B),k=T&&!l,Z=(k||t.collaborator_invites_enabled&&t.collaborated_by_me)&&!d,S=(c=()=>z(o[0].href??"/"),o[0].is_ads_only_profile&&o[0].ads_only_profile_site&&(c=()=>{I({event_type:9371,element:13382,aux_data:{aop_origin:"CollaboratorAvatarGroup"}}),window.open(o[0].ads_only_profile_site,"_blank")}),o.length>1&&(c=()=>_(!h)),k&&(T||t.collaborated_by_me)&&(c=n),c),L=[501003];k&&t.is_collaborative&&L.push(502335);let O=o.map(({name:e,src:t})=>e&&t?{name:e,src:t.endsWith("/default_75.png")?"":t}:{name:e,src:t});return(0,j.jsxs)(s.Fragment,{children:[(0,j.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,j.jsx)(w.Z,{ref:A,addButtonRef:y,avatarSize:e,collaboratorCount:t.collaborator_count||0,displayedCollaborators:O,nonDisplayedCollaboratorCount:i,onClick:S,showAddButton:Z??!1}),(0,j.jsx)(b.cs,{anchors:{3002:y.current},placementId:18,positionRelativeToAnchor:!1}),(0,j.jsx)(b.Qp,{anchor:y.current,customWrapper:({children:e})=>(0,j.jsx)(a.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,zIndex:new a.Ry(2),children:e}),experienceIds:L,idealDirection:"down",placementId:18,positionRelativeToAnchor:!1,showCaret:!0})]}),h&&(0,j.jsx)(f.Z,{name:"SafeSuspense_CollaboratorAvatarGroup_BoardCollabFlyout",children:(0,j.jsx)(x.Z,{children:(0,j.jsx)(P,{anchor:A.current,board:t,onDismiss:()=>{_(!1),A.current&&A.current.focus()}})})})]})}var A=o(558926),y=o(889168),z=o(415245),B=o(606480),I=o(302148),T=o(535877);function k({board:e,collaborators:t,overflowNumber:o}){(0,s.useEffect)(()=>{(0,r.Z)("CollaboratorNames","/app/www/save/board/Headers/BoardHeader/CollaboratorNames.tsx")},[]);let l=(0,h.ZP)(),i=(0,s.useRef)(null),{logContextEvent:n}=(0,p.u)(),[d,c]=(0,s.useState)(!1),_=t.map((e,t)=>{if(e.isDim)return null;let o=e.is_ads_only_profile&&e.ads_only_profile_site,r=(o?e.ads_only_profile_site:e.href)||"",s=e.href?e.href:e.name+t;return(0,j.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,j.jsx)(a.rU,{display:"inlineBlock",href:r,onClick:()=>{o&&n({event_type:9371,element:13382,aux_data:{aop_origin:"CollaboratorNames"}})},rel:o?"nofollow":"none",target:o?"blank":null,underline:"none",children:e.name})},s)}).filter(Boolean);return o&&_.push((0,j.jsx)(a.xu,{ref:i,display:"inlineBlock",children:(0,j.jsx)(a.iP,{onTap:()=>c(!0),children:(0,j.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,I.nk)(l.nbt(["{{ overflowNumber }} autre", "{{ overflowNumber }} autres"], o, "legoBoardPageHeader.collaboratorNames.others", true),{overflowNumber:o})})})},"overflowText")),(0,j.jsxs)(s.Fragment,{children:[(0,j.jsx)(a.xv,{inline:!0,children:(0,B.F)(_,l)}),d&&(0,j.jsx)(T.default,{anchor:i.current,board:e,onDismiss:()=>c(!1)})]})}var Z=o(581722),S=o(679422),L=o(87853),O=o(415602);function q(e){(0,s.useEffect)(()=>{(0,r.Z)("ButtonElement","/app/www/save/board/JoinButton/ButtonElement.tsx")},[]);let t=(0,h.ZP)(),{onClick:o,requested:l,size:i,useAlternateText:n}=e;return(0,j.jsx)(a.zx,{fullWidth:!0,onClick:o,size:i||"md",text:(l?function(e,t){return t?e.bt("Annuler", "Cancel", "BoardPage.BoardJoinButton.cancel", undefined, true):e.bt("Annuler la demande", "Cancel request", "[Button] Cancel request to join a group board as a collaborator", undefined, true)}:function(e,t){return t?e.bt("Rejoindre", "Join", "BoardPage.BoardJoinButton.join", undefined, true):e.bt("Demander à rejoindre le tableau", "Request to join", "[Button] Request to join a group board as a collaborator", undefined, true)})(t,n)})}var R=o(475498);function M(e){(0,s.useEffect)(()=>{(0,r.Z)("JoinCancelToast","/app/www/save/board/JoinButton/JoinCancelToast.tsx")},[]);let t=(0,h.ZP)(),{boardImage:o,boardName:l,boardUrl:i,onHide:n}=e,d=(0,j.jsx)(a.xv,{children:(0,I.nk)(t.bt("Vous avez annulé votre demande de collaboration au tableau {{ boardName }}", "You've cancelled the request to collaborate on {{ boardName }}", "Board.JoinButton.CancelToast", undefined, true),{boardName:(0,j.jsx)(a.xv,{inline:!0,weight:"bold",children:l})})});return(0,j.jsx)(R.Z,{duration:3e3,href:i,imageUrl:o,onHide:n,text:d})}function D(e){(0,s.useEffect)(()=>{(0,r.Z)("JoinRequestToast","/app/www/save/board/JoinButton/JoinRequestToast.tsx")},[]);let t=(0,h.ZP)(),{boardImage:o,boardName:l,boardUrl:i,onHide:n}=e,d=(0,j.jsx)(a.xv,{children:(0,I.nk)(t.bt("Vous avez demandé à rejoindre {{ boardName }}", "You've requested to join {{ boardName }}", "Board.JoinButton.RequestToast", undefined, true),{boardName:(0,j.jsx)(a.xv,{inline:!0,weight:"bold",children:l})})});return(0,j.jsx)(R.Z,{href:i,imageUrl:o,onHide:n,text:d})}function E(e){let{boardId:t,boardImage:o,boardName:r,boardUrl:s,isRequestedByMe:l,showPulsar:i,size:n,variant:d}=e,{logContextEvent:c}=(0,p.u)(),h=(0,Z.I0)(),_=(0,m.Z)(),u=(0,L.dI)(),f=_.isAuth&&_.id||"",b=(0,S.Z)(),x=(0,O.tV)(),g=({event:e})=>{e.preventDefault(),e.stopPropagation(),b?b():l?(h((0,O.GJ)(t,f)),u.showOneToast(({hideToast:e})=>(0,j.jsx)(M,{boardImage:o,boardName:r,boardUrl:s,onHide:e}))):(h(x(t)),u.showOneToast(({hideToast:e})=>(0,j.jsx)(D,{boardImage:o,boardName:r,boardUrl:s,onHide:e})));let{action:a,id:i,logContextEvent:n,url:d}={action:l?"request":"cancel",id:t,logContextEvent:c,url:s};n({event_type:101,component:1,element:"request"===a?7499:7547,object_id_str:i,view_type:4,aux_data:{current_page_url:d}})};return f?(0,j.jsxs)(a.xu,{display:"flex",position:"relative",children:[(0,j.jsx)(q,{onClick:g,requested:l,size:n,useAlternateText:"lego"===d}),i&&(0,j.jsx)(a.iP,{onTap:e=>{g(e)},children:(0,j.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:-86,marginTop:-28}},display:"inlineBlock",position:"absolute",children:(0,j.jsx)(a.o3,{paused:l})})})]}):null}var H=o(17226);function F({board:e,boardActions:t,boardName:o,collaborators:l,isArchived:i,isBoardPreviewMode:n,isSecret:d,nonDisplayedCollaboratorCount:u,pinCount:p,sectionCount:f,description:b,showPinCount:m,showPulsar:x,showJoinButton:g,isOwnerOrCollaborator:v,handleShowCollabAndPermissionsModal:w}){(0,s.useEffect)(()=>{(0,r.Z)("BoardHeaderDetails","/app/www/save/board/Headers/BoardHeader/BoardHeaderDetails/BoardHeaderDetails.tsx")},[]);let P=(0,h.ZP)(),{automagical_board_metadata:B,featured_board_metadata:I,id:T,image_cover_url:Z,layout:S,owner:L={},should_show_board_collaborators:O,url:q,viewer_collaborator_join_requested:R}=e,{curator:M,is_sponsored_content:D}=I||{},{board_type:F,tag_title:N,tagline:U,topic_name:G,upcoming_update_date_text:J}=B||{},X=D?M:null,W=(0,H.Z)(e),Y=v&&!n,$="automagical"===S,V=[];M&&!Y?V.push((0,c.Z)(M)):O&&l.length?V.push(...l):L&&V.push((0,c.Z)(L));let K=I?.board_tag;return(0,j.jsxs)(a.kC,{alignItems:"start",dataTestId:"board-header-details",direction:"column",gap:6,justifyContent:"start",maxWidth:640,children:[(0,j.jsxs)(a.kC,{alignItems:"start",direction:"column",gap:3,justifyContent:"start",children:[(()=>{let{board_subtitle:e}=I||{};return e?(0,j.jsx)(a.xu,{marginBottom:-1,children:(0,j.jsx)(a.xv,{weight:"bold",children:e})}):null})(),t?(0,j.jsxs)(a.kC,{direction:"row",gap:2,children:[(0,j.jsx)(a.X6,{id:"board-name",size:"700",children:o}),t]}):(0,j.jsx)(a.X6,{id:"board-name",size:"700",children:o}),(0,j.jsx)(z.Z,{fontSize:"200",isArchived:i,isAutomagical:$,isFeaturedBoard:W,isSecret:d,pinCount:p,sectionCount:f,showEditorialBoardTag:"number"==typeof K&&K>=0,showPinCount:m,subtitle:2===F?U:J,tagTitle:N}),!!b&&(0,j.jsx)(_.Z,{description:b,topicName:G})]}),!$&&(0,j.jsxs)(s.Fragment,{children:[Y&&(0,j.jsx)(a.xu,{marginBottom:2,children:(0,j.jsx)(a.HE,{accessibilityLabel:V.length>1?P.bt("Tableau avec des collaborateurs. Continuez à inviter des collaborateurs. Ouvre un modal.", "Board with collaborators. Keep inviting collaborators. Opens a modal.", "BoardHeaderDetails.AvatarGroup.InviteMoreCollaborators.accessibilityLabel", undefined, true):P.bt("Inviter des collaborateurs. Ouvre un modal.", "Invite collaborators. Opens a modal.", "BoardHeaderDetails.AvatarGroup.InviteCollaborators.accessibilityLabel", undefined, true),addCollaborators:!0,collaborators:V,onClick:w,role:"button",size:"sm"})}),Y&&(0,j.jsx)(A.Z,{boardId:T,iconSize:24,isBoardEmpty:!p,toolSize:72}),!Y&&X&&(0,j.jsx)(y.Z,{user:X}),!Y&&!X&&(0,j.jsxs)(a.kC,{alignItems:"center",dataTestId:"collaborator-avatar-group-and-names-container",gap:2,children:[(0,j.jsx)(C,{avatarSize:"sm",board:e,displayedCollaborators:V,handleShowCollabAndPermissionsModal:()=>{},isBoardPreviewMode:n,nonDisplayedCollaboratorCount:u}),(0,j.jsxs)(a.xv,{children:[P.bt("par ", "by ", "board.Headers.BoardHeader.BoardHeaderDetails.by", undefined, true),(0,j.jsx)(k,{board:e,collaborators:V,overflowNumber:u})]})]})]}),g&&(0,j.jsx)(E,{boardId:T,boardImage:Z??"",boardName:o,boardUrl:q,isRequestedByMe:!!R,showPulsar:x,size:"lg",variant:"lego"})]})}var N=o(441178),U=o(932849),G=o(827644),J=o(679269);function X({board:e,boardName:t,collaborators:o,description:c,fullWidth:h=!1,handleShowCollabAndPermissionsModal:_,isArchived:u,isBoardPreviewMode:p,isOwnerOrCollaborator:f,isSecret:b,nonDisplayedCollaboratorCount:m,onCreatePincode:x,overFlowActionsButton:g,pinCount:v,sectionCount:w,setBoardPreviewMode:P,showPinCount:C,showPulsar:A,showJoinButton:y}){(0,s.useEffect)(()=>{(0,r.Z)("BoardHeaderWithImage","/app/www/save/board/Headers/BoardHeader/BoardHeaderWithImage.tsx")},[]);let{featured_board_metadata:z,layout:B,header:I,owner:T}=e,{isSmallerImage:k,isSmallScreen:Z}=(0,J.Z)(),{checkExperiment:S}=(0,l.Z)(),L=(0,d.Z)(T?.id),O="automagical"===B,{anyEnabled:q}=S("ce_dweb_relocate_board_share_button"),R=I?.large_image_url||null,M=z?.has_expanded_sections&&L&&P,D=()=>(0,j.jsxs)(a.kC,{dataTestId:"board-actions-container",gap:2,children:[M&&!O&&(0,j.jsx)(U.Z,{isBoardPreviewMode:p,setBoardPreviewMode:P}),!b&&!O&&(0,j.jsx)(G.Z,{boardKey:{type:"Legacy",data:e},handleCreatePincode:x,iconColor:"darkGray",isShowShareIcon:!0,showTooltip:q}),g]}),E=()=>(0,j.jsx)(F,{board:e,boardActions:q?D():void 0,boardName:t,collaborators:o,description:c,handleShowCollabAndPermissionsModal:_,isArchived:u,isBoardPreviewMode:p,isOwnerOrCollaborator:f,isSecret:b,nonDisplayedCollaboratorCount:m,pinCount:v,sectionCount:w,showJoinButton:y,showPinCount:C,showPulsar:A}),H=()=>R?(0,j.jsx)(N.Z,{boardActions:q?void 0:D(),imageUrl:R,imageWidth:k?J.w:void 0}):q?void 0:D(),X=(0,j.jsxs)(a.kC,{alignItems:Z||!R||f&&!p?"start":"center",dataTestId:"board-header-with-image",direction:Z&&R?"column":"row",gap:8*!!R,justifyContent:"between",children:[(0,j.jsx)(a.xu,{children:Z&&R?H():E()}),(0,j.jsx)(a.xu,{maxWidth:Z?550:void 0,children:Z&&R?E():H()})]});return h?(0,j.jsx)(a.xu,{paddingX:1,width:"100%",children:X}):(0,j.jsx)(i.Z,{isGetServerRenderGridHeaderStyles:!0,maxColumns:n.Sk,children:X})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/29752.fr-5515ca764b4baf3f.mjs.map